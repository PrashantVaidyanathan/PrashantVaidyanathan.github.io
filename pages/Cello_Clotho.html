<!DOCTYPE html>
<html>
<head>
<script >
function onSubmitBtnClick()
{
	var text = document.getElementById("gateupload").value;
	window.alert(text);
}
function onUploadFileClick()
{
	if(!(window.File && window.FileReader && window.FileList && window.Blob))
	{
		alert('File APIs are not fully supported in this browser. This may cause issues.');
	}
}
window.onload = function()
{
	var fileinput = document.getElementById('gateuploadbtn');
	var gatetextarea = document.getElementById('gateupload');
	fileinput.addEventListener('change',
	function(e) 
	{
		var file = fileinput.files[0];
		var textType = /text.*/;
		if(file.type.match(textType))
		{
			var fileReader = new FileReader();
			fileReader.onload = function(e) 
			{
				gatetextarea.innerText = fileReader.result;
			}
			fileReader.readAsText(file);
		}
		else
		{
			alert("Please Upload a Valid Text file");
		}
	});
}

function readSampleGatesFile()
{
	var filelink = "http://" + document.domain + "/SampleText.txt";
	//var filelink = "file:///D:/Studies/GitFolder/Git%20Home%20Page/PrashantVaidyanathan.github.io/resources/SampleGates.txt";
	var xmlhttp;
	if (window.XMLHttpRequest)
	{// code for IE7+, Firefox, Chrome, Opera, Safari
		xmlhttp=new XMLHttpRequest();
		
	}
	else
	{// code for IE6, IE5
		xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
	}
	xmlhttp.onreadystatechange=function()
	{
	
	if (xmlhttp.readyState==4 && (xmlhttp.status==200 || xmlhttp.status==0 ))
    {
		//alert(filelink);
		document.getElementById("gateupload").innerHTML=xmlhttp.responseText;
    }
  }
	xmlhttp.open("GET","/SampleGates.txt",true);
	xmlhttp.send();
}

</script>

</head>
<title>

</title>

<body>






<div align="center">
<h1 style="font-family:Arial, Helvetica, sans-serif;">Upload Cello Gates</h1> 

<textarea id="gateupload" rows="30" cols="60"> </textarea>
</div>
<div align="center">
<input type="file"  id="gateuploadbtn">
<input type="button" value="Upload Sample File" onclick="readSampleGatesFile()">
<input type="submit" id="submitbtn" onclick="onSubmitBtnClick()" />
</div>


</body>
</html>
